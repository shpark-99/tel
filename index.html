<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>발신번호 등록 팝업 데모</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{--brand:#ff5a1f;--border:#e5e7eb;--head:#f5f6f8;--text:#222;--muted:#6b7280}
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;background:#f3f4f6;color:var(--text);font-family:-apple-system,system-ui,"Segoe UI",Roboto,"Noto Sans KR","Malgun Gothic",Arial,sans-serif}

    /* 팝업(이미지 스타일) */
    .overlay{position:fixed;inset:0;display:flex;align-items:flex-start;justify-content:center;padding:18px;background:rgba(0,0,0,.25)}
    .popup{width:min(940px,100%);height:min(95vh,720px);background:#fff;border:1px solid var(--border);border-radius:6px;box-shadow:0 8px 30px rgba(0,0,0,.25);display:grid;grid-template-rows:auto 1fr;overflow:hidden}
    .bar{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--border);background:#fff}
    .logo{font-weight:900;color:var(--brand);font-size:22px}
    .close{border:0;background:#fff;width:28px;height:28px;font-size:18px;line-height:28px;cursor:pointer} .close:hover{background:#f3f4f6;border-radius:4px}
    .content{padding:12px 16px;overflow:auto}

    /* FAQ 프레임 */
    .faq-label{font-size:12px;color:var(--muted);margin:0 0 6px 2px}
    .frame{height:360px;border:1px solid var(--border);border-radius:4px;overflow:hidden;background:#fafafa;margin-bottom:12px}
    .frame iframe{width:100%;height:100%;border:0}

    /* 등록 영역(이미지 느낌) */
    .toolbar{display:flex;align-items:center;gap:8px;margin:2px 0 10px}
    .toolbar label{min-width:72px}
    .input{height:32px;padding:0 10px;border:1px solid var(--border);border-radius:2px;min-width:240px;font:inherit}
    .btn{height:32px;padding:0 12px;border:1px solid #cfd3db;background:#f6f7f9;color:#222;border-radius:2px;cursor:pointer;font-weight:700}
    .btn:hover{background:#eef0f4}

    .table-wrap{border:1px solid var(--border);border-radius:2px;overflow:auto}
    table{width:100%;border-collapse:collapse;background:#fff}
    thead th{text-align:left;background:var(--head);border-bottom:1px solid var(--border);padding:8px 10px;font-weight:700;font-size:13px}
    tbody td{padding:10px;border-bottom:1px solid var(--border);font-size:13px}
    tbody tr:last-child td{border-bottom:0}
    .col-num{width:60px}.col-status{width:120px}.col-auth{width:90px}.col-date{width:180px}.col-del{width:64px}
    .del-btn{width:24px;height:24px;border:0;background:#fff;cursor:pointer;border-radius:3px;display:inline-flex;align-items:center;justify-content:center}
    .del-btn:hover{background:#f3f4f6}
  </style>
</head>
<body>
  <div class="overlay">
    <section class="popup" role="dialog" aria-modal="true" aria-labelledby="t">
      <header class="bar">
        <div id="t" class="logo">nownsurvey</div>
        <button class="close" aria-label="닫기" onclick="document.querySelector('.overlay').style.display='none'">✕</button>
      </header>

      <div class="content">
        <!-- FAQ (.area-content만) -->
        <p class="faq-label">문자 배포 발신번호 등록 안내</p>
        <div class="frame"><iframe id="faq"></iframe></div>

        <!-- 발신번호 등록 영역 -->
        <section aria-label="발신번호 등록">
          <div class="toolbar">
            <label for="cb">발신번호:</label>
            <input id="cb" class="input" type="text" inputmode="numeric" pattern="[0-9]*" maxlength="11" placeholder="숫자만 입력 (예: 01012345678)" />
            <button class="btn">사전 등록 신청</button>
            <button class="btn" onclick="window.open('https://www.nownsurvey.com/board/faq/view/wr_id/5630','_blank')">문자 배포 발신번호 등록 안내</button>
          </div>

          <div class="table-wrap">
            <table>
              <colgroup><col class="col-num"><col><col class="col-status"><col class="col-auth"><col class="col-date"><col class="col-del"></colgroup>
              <thead><tr><th>번호</th><th>발신번호</th><th>진행상태</th><th>인증 여부</th><th>접수 일시</th><th>삭제</th></tr></thead>
              <tbody>
                <tr><td>4</td><td>01011111111</td><td>접수중</td><td>비승인</td><td>2025-07-10 10:44:17</td><td><button class="del-btn" aria-label="삭제">✕</button></td></tr>
                <tr><td>3</td><td>1111111</td><td>심사완료</td><td>승인</td><td>2025-06-19 13:16:23</td><td><button class="del-btn" aria-label="삭제">✕</button></td></tr>
                <tr><td>2</td><td>0231494919</td><td>심사완료</td><td>승인</td><td>2025-06-16 16:32:55</td><td><button class="del-btn" aria-label="삭제">✕</button></td></tr>
                <tr><td>1</td><td>01035834188</td><td>접수중</td><td>비승인</td><td>2025-06-13 09:14:40</td><td><button class="del-btn" aria-label="삭제">✕</button></td></tr>
              </tbody>
            </table>
          </div>
        </section>
      </div>
    </section>
  </div>

  <script>
    // 네 워커(클린 프록시) 주소 — 이미 설정함
    const CLEAN_URL = "https://nown-clean.kk35834188.workers.dev";
    const RAW = "https://www.nownsurvey.com/board/faq/view/wr_id/5630";
    document.getElementById("faq").src = `${CLEAN_URL}?url=${encodeURIComponent(RAW)}&selector=.area-content`;

    // 숫자만 입력
    document.getElementById('cb').addEventListener('keydown',(e)=>{
      const k=e.keyCode, ok=(k===8||k===9||k===13||k===46||(k>=37&&k<=40)||(k>=48&&k<=57)||(k>=96&&k<=105));
      if(!ok) e.preventDefault();
    });
  </script>
</body>
</html>
